# 함수형 프로그래밍의 정의

1. 수학 함수를 사용하고 부수 효과를 피하는 것이 특징인 프로그래밍 패러다임
2. 부수효과 없이 순수함수만을 사용하는 프로그래밍 스타일

### 부수효과

함수가 리턴값 이외에 하는 모든 일
ex) 메일 보내기, 전역 상태 수정하기

### 순수함수 : 수학함수

인자에만 의존하고 부수효과가 없는 함수
같은 인자 -> 항상 같은 값

## 함수형 프로그래밍 정의의 문제점

-> 부수효과는 필요함 : 부수 효과는 소프트웨어를 실행하는 이유임

## 액션, 계산, 데이터 구분하기

함수형 프로그래머는 코드를 액션과 계산, 데이터로 구분함

### 액션

액션은 호출하는 시점과 횟수에 의존함

### 계산

호출 시점, 횟수에 의존적이지않음
다른 요소에도 영향을 주지 않음

### 데이터

이벤트에 대한 사실을 기록함

## 프로그래밍에서 어려운 부분

실행 시점이나 횟수에 의존하는 코드를 없애면, 코드를 더 쉽게 이해할 수 있고 심각한 버그를 막을 수 있음
이런 부분은 규모가 커지거나, 분산 시스템에 해당하는 경우 더 중요해짐

-> 데이터와 계산은 실행시점이나 횟수에 의존하지 않음

**액션을 아예 제거하는 것은 불가능하나, 격리해서 관리하면 복잡성을 떨어뜨릴 수 있음**

### 분산시스템 규칙 3가지

1. 메시지 순서가 바뀔 수 있다.
2. 메시지는 한번 이상 도착할 수 도 있고, 도착하지 않을 수도 있다.
3. 응답을 받지 못하면 무슨 일이 생겼는지 알 수 없다.

## 함수형 사고의 두가지 기술

### 액션, 계산, 데이터

이 개념을 분리하여 생각하는것

### 일급 추상

함수에 함수를 넘겨 더 많은 함수를 재사용할 수 있음

# 함수형 사고로 개발 설계하기

### 1. 액션과 계산, 데이터 분리하기

### 2. 계층화 설계 하기

각 계층은 아래 계층을 기반으로 만들어짐
즉, 윗 계층을 아래 계층을 소비함
아래 계층은 잘 변하지 않으며, 윗계층은 자주 바뀜
윗계층은 의존성이 적어져서 쉽게 바꿀 수 있음

_기술스택 -> 도메인 규칙 -> 비즈니스 규칙_

### 3. 일급추상

# 액션과 계산, 데이터의 차이를 알기

### 액션

부수효과가 있는 함수
실행 시점과 횟수에 의존함

### 계산

입력으로 출력을 계산함

### 데이터

이벤트에 대한 사실

### 문제에 대해 생각할때 적용하기

1. 큰 문제를 작은 문제로 분해하기
2. 문제를 액션과 계산, 데이터로 나눠서 생각하기
   -> 코드작성시 주의해야할 부분인 액션과 결정부분(계산), 데이터로 처리해야할 부분 결정이 가능함

### 코딩시

1. 액션에서 최대한 계산을 빼내기
2. 계산에서는 데이터를 최대한 분리하기
   => 최대한 관심사를 분리하는 것
   관심사가 엮이게 되면 코드의 흐름을 파악하기 어려워짐

## 쪼개기

1. 액션 안에는 계산과 데이터, 또다른 액션이 숨어있을 수 있음
2. 계산은 더 작은 계산과 데이터로 나누고 연결할 수 있음
3. 데이터는 데이터만 조합할 수 있음
4. **계산 과정이 잘 보이지 않는 이유는 머릿속에서 자연스럽게 일어나기 때문임.** 이것을 인지하고 파악하고자 노력하면 더 쉽게찾을 수 있음

### 계산

1. 액션보다 계산이 좋다!
   1. 테스트하기 쉬움
   2. 조합하기 좋음
   3. 기계적 분석이 쉬움
2. 계산의 단점
   실행 전에 어떤 일이 발생할 지 알 수 없다

### 다양한 형태의 액션

1. alert, console.log
2. 생성자
3. 표현식 (전역 변수 참조, 공유 객체 속성참조, 공유 배열 값 참조)
4. 상태 공유 값 할당
   => 종류를 모두 파악할 필요는 없지만, 액션 코드를 모두 찾을 필요는 없음
   **액션은 실행 시점과 횟수에 의존하는 것**
